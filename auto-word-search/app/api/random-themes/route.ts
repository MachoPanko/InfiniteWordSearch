import { NextResponse } from 'next/server';

const THEMES_EN = [
  "Fruits", "Colors", "Animals", "Countries", "Sports", "Vegetables", "Jobs", "Clothing", "Body Parts", "Family Members", "Musical Instruments", "Weather", "Shapes", "Feelings", "Transportation", "School Subjects", "Kitchen Items", "Furniture", "Buildings", "Insects"
];

const THEMES_ZH = [
  "水果", "动物", "颜色", "国家", "运动", "蔬菜", "职业", "衣服", "身体部位", "家庭成员",
  "乐器", "天气", "形状", "情绪", "交通工具", "学校科目", "厨房用品", "家具", "建筑物", "昆虫",
  "鸟类", "鱼类", "爬行动物", "哺乳动物", "宠物", "海洋生物", "树木", "花朵", "行星", "星星",
  "星座", "季节", "月份", "星期", "数字", "工具", "玩具", "游戏", "爱好", "露营装备",
  "旅行", "海滩用品", "冬季运动", "夏季活动", "学习用品", "文具", "电脑术语", "太空", "山脉", "河流",
  "湖泊", "沙漠", "岛屿", "城市", "首都", "语言", "国旗", "大洲", "自然灾害", "农场动物",
  "动物园动物", "野生动物", "森林动物", "热带雨林动物", "北极动物", "农具", "音乐类型", "舞蹈", "节日", "职业类别",
  "交通种类", "厨房用具", "烹饪食材", "著名地标", "通讯方式", "电影", "卡通", "超级英雄", "漫画", "童话故事",
  "幻想生物", "龙", "魔法物品", "巫师", "海盗", "骑士", "城堡", "皇室", "神话生物", "恐龙",
  "科学仪器", "数学术语", "英语词汇", "同义词", "反义词", "押韵词", "动词", "形容词", "名词", "代词",
  "副词", "介词", "标点符号", "行星与卫星", "星系", "科技", "网络术语", "机器人", "小工具", "电子游戏",
  "桌游", "纸牌游戏", "节日庆典", "圣诞节", "复活节", "万圣节", "感恩节", "情人节", "新年", "独立日",
  "地球日", "母亲节", "父亲节", "春天", "夏天", "秋天", "冬天", "雨天", "晴天", "暴风雨",
  "云", "彩虹", "雪", "冰", "火", "水", "空气", "大地", "能量", "简单机械",
  "发明家", "发现", "太空任务", "欧洲国家", "亚洲国家", "非洲国家", "北美国家", "南美国家", "大洋洲国家", "沙漠动物",
  "丛林动物", "森林植物", "药用植物", "水果和浆果", "海鲜", "烘焙食品", "早餐食物", "午餐食物", "晚餐食物", "零食",
  "甜点", "饮料", "谷物", "乳制品", "调味品", "香料", "健康食品", "快餐", "野餐用品", "学校社团",
  "教室物品", "操场设备", "运动器材", "奥运项目", "球类运动", "田径项目", "体操", "游泳", "骑行", "武术",
  "户外活动", "室内游戏", "宠物与照顾", "农作物", "园艺工具", "花卉植物", "树木与叶子", "鸟类种类", "蝴蝶", "蜜蜂与昆虫",
  "可回收物", "家务", "房间", "浴室用品", "卧室用品", "客厅用品", "办公用品", "电子产品", "家电", "医院工作",
  "学校工作", "餐厅工作", "城市工作", "交通工具种类", "应急车辆", "工具与五金", "音符", "乐器", "声音词汇",
  "动作词", "反义词", "情绪", "友谊", "善良", "好习惯", "坏习惯", "卫生", "安全规则", "社区帮手",
  "公共服务", "回收", "环境保护", "外太空", "宇航员", "太阳系", "计算机设备", "编程术语", "人工智能与机器人",
  "时间词", "日历术语", "方向", "罗盘方向", "天气工具", "计量单位", "图形与图案", "几何术语", "美术用品", "颜色与色调",
  "绘画风格", "著名艺术家", "书籍", "图书馆物品", "学校科目", "科学分支", "物理术语", "化学术语", "生物主题", "人体结构",
  "细胞", "人体系统", "健康与健身", "运动队", "户外装备", "海洋生物", "森林生物", "沙漠植物", "热带植物", "爬行类与两栖类",
  "青蛙与蟾蜍", "蜥蜴与蛇", "乌龟", "贝类", "鲨鱼", "鲸鱼", "海豚", "珊瑚礁生物", "天气现象", "自然奇观",
  "国家公园", "交通标志", "交通术语", "地图与地理", "文化符号"
];


function getRandomThemes(count: number, locale: string): string[] {
  const themes = locale === 'zh' ? THEMES_ZH : THEMES_EN;
  const shuffled = themes.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const count = Number(searchParams.get('count')) || 1;
  const locale = searchParams.get('locale') || 'en';

  try {
    const themes = getRandomThemes(count, locale);
    return NextResponse.json({ themes });
  } catch {
    return NextResponse.json(
      { error: 'Failed to get random themes' },
      { status: 500 }
    );
  }
}